#!/usr/bin/env bash
# Claude Context Configuration File
# Generated by install.sh - Edit with caution

# ==========================================
# CLAUDE CONTEXT MODE
# ==========================================
# Available modes:
#   - basic    : CLAUDE.md injection only
#   - history  : CLAUDE.md + conversation history (no Gemini required)
#   - advanced : CLAUDE.md + history + token monitoring (Gemini required)
CLAUDE_CONTEXT_MODE="{{MODE}}"

# ==========================================
# FEATURE FLAGS
# ==========================================
# Enable/disable specific features
CLAUDE_ENABLE_CACHE="true"              # Cache CLAUDE.md content
CLAUDE_INJECT_PROBABILITY="1.0"         # Injection probability (0.0-1.0)
CLAUDE_ENABLE_DEBUG="false"             # Enable debug logging

# ==========================================
# PATHS AND DIRECTORIES
# ==========================================
CLAUDE_HOME="${HOME}/.claude"
CLAUDE_HOOKS_DIR="${CLAUDE_HOME}/hooks"
CLAUDE_HISTORY_DIR="${CLAUDE_HOME}/history"
CLAUDE_SUMMARY_DIR="${CLAUDE_HOME}/summaries"
CLAUDE_CACHE_DIR="${XDG_CACHE_HOME:-${HOME}/.cache}/claude-context"
CLAUDE_LOG_DIR="${TMPDIR:-/tmp}"

# ==========================================
# HISTORY SETTINGS (history/advanced modes)
# ==========================================
CLAUDE_MAX_HISTORY_SIZE="10000"         # Max messages per session
CLAUDE_SUMMARY_THRESHOLD="50"           # Auto-summarize after N messages
CLAUDE_ARCHIVE_DAYS="30"                # Archive sessions older than N days

# ==========================================
# TOKEN MONITORING (advanced mode only)
# ==========================================
CLAUDE_TOKEN_LIMIT="150000"             # Token limit for auto-summarization
CLAUDE_TOKEN_WARNING="100000"           # Warning threshold
CLAUDE_COMPRESS_HISTORY="false"         # Compress summarized history

# ==========================================
# GEMINI SETTINGS (advanced mode only)
# ==========================================
GEMINI_API_KEY_PATH="${HOME}/.config/gemini/api_key"
GEMINI_MODEL="gemini-2.0-flash-exp"
GEMINI_SUMMARY_MAX_TOKENS="500"

# ==========================================
# PERFORMANCE SETTINGS
# ==========================================
CLAUDE_CACHE_MAX_AGE="3600"             # Cache validity in seconds
CLAUDE_LOCK_TIMEOUT="5"                 # File lock timeout in seconds

# ==========================================
# EXPORT ALL VARIABLES
# ==========================================
export CLAUDE_CONTEXT_MODE
export CLAUDE_ENABLE_CACHE
export CLAUDE_INJECT_PROBABILITY
export CLAUDE_ENABLE_DEBUG
export CLAUDE_HOME
export CLAUDE_HOOKS_DIR
export CLAUDE_HISTORY_DIR
export CLAUDE_SUMMARY_DIR
export CLAUDE_CACHE_DIR
export CLAUDE_LOG_DIR
export CLAUDE_MAX_HISTORY_SIZE
export CLAUDE_SUMMARY_THRESHOLD
export CLAUDE_ARCHIVE_DAYS
export CLAUDE_TOKEN_LIMIT
export CLAUDE_TOKEN_WARNING
export CLAUDE_COMPRESS_HISTORY
export GEMINI_API_KEY_PATH
export GEMINI_MODEL
export GEMINI_SUMMARY_MAX_TOKENS
export CLAUDE_CACHE_MAX_AGE
export CLAUDE_LOCK_TIMEOUT